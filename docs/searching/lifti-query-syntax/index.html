<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.121.2">
<meta name="robots" content="index, follow">


<link rel="shortcut icon" href="/lifti/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/lifti/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/lifti/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/lifti/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/lifti/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/lifti/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/lifti/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/lifti/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/lifti/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/lifti/favicons/android-192x192.png" sizes="192x192">

<title>The LIFTI Query Syntax | LIFTI</title>
<meta name="description" content="The default query parser for an index makes use of a powerful query syntax.
">
<meta property="og:title" content="The LIFTI Query Syntax" />
<meta property="og:description" content="The default query parser for an index makes use of a powerful query syntax.
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mikegoatly.github.io/lifti/docs/searching/lifti-query-syntax/" /><meta property="article:section" content="docs" />

<meta property="article:modified_time" content="2024-01-16T22:43:44+00:00" />

<meta itemprop="name" content="The LIFTI Query Syntax">
<meta itemprop="description" content="The default query parser for an index makes use of a powerful query syntax.
">
<meta itemprop="dateModified" content="2024-01-16T22:43:44+00:00" />
<meta itemprop="wordCount" content="1131">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="The LIFTI Query Syntax"/>
<meta name="twitter:description" content="The default query parser for an index makes use of a powerful query syntax.
"/>




<link rel="preload" href="/lifti/scss/main.min.8b5cb6bf325858503123a884cabb18b474576e49a8f8b45c16440e12cb52ad15.css" as="style">
<link href="/lifti/scss/main.min.8b5cb6bf325858503123a884cabb18b474576e49a8f8b45c16440e12cb52ad15.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.6.3.min.js"
  integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ=="
  crossorigin="anonymous"></script>
<script defer
  src="https://unpkg.com/lunr@2.3.9/lunr.min.js"
  integrity="sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli"
  crossorigin="anonymous"></script>

  </head>
  <body class="td-page">
    <header>
      <nav class="td-navbar navbar-dark js-navbar-scroll">
<div class="container-fluid flex-column flex-md-row">
  <a class="navbar-brand" href="/lifti/"><span class="navbar-brand__logo navbar-logo"><svg viewBox="0 0 180 180" xmlns="http://www.w3.org/2000/svg"><defs/><path d="M38.225 8.178h96.774l31.117 31.117v131.5H38.225V88.826h87.587V71.35h24.422V59.722H125.812L126.216 41.408H38.225V8.178zM54.049 116.715h96.185V105.087H54.049v11.628zm0 37.076h96.185V142.163H54.049v11.628z" style="stroke-width:0;stroke:#020f0e;fill:#14a89b"/><rect x="11.244" y="51.461" width="106.346" height="28.227" style="stroke-width:5px;fill:#1adbca;stroke:#0e756c" rx="11.718" ry="11.718"/></svg></span><span class="navbar-brand__name">LIFTI</span></a>
  <div class="td-navbar-nav-scroll ms-md-auto" id="main_navbar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="/lifti/about/"><span>About</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link active" href="/lifti/docs/"><span>Documentation</span></a>
      </li>
      </ul>
  </div>
  <div class="d-none d-lg-block">
    <div class="td-search td-search--offline">
  <div class="td-search__icon"></div>
  <input
    type="search"
    class="td-search__input form-control"
    placeholder="Search this site…"
    aria-label="Search this site…"
    autocomplete="off"
    
    data-offline-search-index-json-src="/lifti/offline-search-index.87765500554449b49d698b709e424b12.json"
    data-offline-search-base-href="/"
    data-offline-search-max-results="10"
  >
</div>
  </div>
</div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            <div id="td-sidebar-menu" class="td-sidebar__inner">
  <form class="td-sidebar__search d-flex align-items-center">
    <div class="td-search td-search--offline">
  <div class="td-search__icon"></div>
  <input
    type="search"
    class="td-search__input form-control"
    placeholder="Search this site…"
    aria-label="Search this site…"
    autocomplete="off"
    
    data-offline-search-index-json-src="/lifti/offline-search-index.87765500554449b49d698b709e424b12.json"
    data-offline-search-base-href="/"
    data-offline-search-max-results="10"
  >
</div>
    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type="button" data-bs-toggle="collapse" data-bs-target="#td-section-nav" aria-controls="td-section-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  <nav class="td-sidebar-nav collapse" id="td-section-nav">
    <ul class="td-sidebar-nav__section pe-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-liftidocs-li">
  <a href="/lifti/docs/" title="LIFTI" class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-liftidocs"><span class="">Documentation</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-liftidocsgetting-started-li">
  <a href="/lifti/docs/getting-started/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-liftidocsgetting-started"><span class="">Getting Started</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocsgetting-startedindexing-objects-li">
  <a href="/lifti/docs/getting-started/indexing-objects/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsgetting-startedindexing-objects"><span class="">Indexing Objects</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-liftidocsindex-construction-li">
  <a href="/lifti/docs/index-construction/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-liftidocsindex-construction"><span class="">Index Construction</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocsindex-constructionwithdefaulttokenization-li">
  <a href="/lifti/docs/index-construction/withdefaulttokenization/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsindex-constructionwithdefaulttokenization"><span class="">Default tokenization</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocsindex-constructionwithobjecttokenization-li">
  <a href="/lifti/docs/index-construction/withobjecttokenization/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsindex-constructionwithobjecttokenization"><span class="">Object tokenization</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocsindex-constructionwithduplicatekeybehavior-li">
  <a href="/lifti/docs/index-construction/withduplicatekeybehavior/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsindex-constructionwithduplicatekeybehavior"><span class="">Managing duplicate keys</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocsindex-constructionwithqueryparser-li">
  <a href="/lifti/docs/index-construction/withqueryparser/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsindex-constructionwithqueryparser"><span class="">Query parser configuration</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocsindex-constructionwithdefaultthesaurus-li">
  <a href="/lifti/docs/index-construction/withdefaultthesaurus/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsindex-constructionwithdefaultthesaurus"><span class="">Thesaurus synonyms</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocsindex-constructionwithtextextraction-li">
  <a href="/lifti/docs/index-construction/withtextextraction/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsindex-constructionwithtextextraction"><span class="">Document text extraction</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocsindex-constructionwithsimplequeryparser-li">
  <a href="/lifti/docs/index-construction/withsimplequeryparser/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsindex-constructionwithsimplequeryparser"><span class="">Using the simple query parser</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocsindex-constructionwithindexmodificationaction-li">
  <a href="/lifti/docs/index-construction/withindexmodificationaction/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsindex-constructionwithindexmodificationaction"><span class="">Adding index modification actions</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-liftidocsindexing-mutations-li">
  <a href="/lifti/docs/indexing-mutations/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-liftidocsindexing-mutations"><span class="">Indexing Data</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocsindexing-mutationsbatch-mutations-li">
  <a href="/lifti/docs/indexing-mutations/batch-mutations/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsindexing-mutationsbatch-mutations"><span class="">Batch Mutations</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocsindexing-mutationsremoving-data-li">
  <a href="/lifti/docs/indexing-mutations/removing-data/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsindexing-mutationsremoving-data"><span class="">Removing Data</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-liftidocssearching-li">
  <a href="/lifti/docs/searching/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-liftidocssearching"><span class="">Searching</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-liftidocssearchinglifti-query-syntax-li">
  <a href="/lifti/docs/searching/lifti-query-syntax/" class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id="m-liftidocssearchinglifti-query-syntax"><span class="td-sidebar-nav-active-item">The LIFTI Query Syntax</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-liftidocssearchingquery-execution-li">
  <a href="/lifti/docs/searching/query-execution/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocssearchingquery-execution"><span class="">Query execution</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-liftidocssearchingfuzzy-matching-li">
  <a href="/lifti/docs/searching/fuzzy-matching/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocssearchingfuzzy-matching"><span class="">Fuzzy Matching</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-liftidocssearchingsimple-queries-li">
  <a href="/lifti/docs/searching/simple-queries/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocssearchingsimple-queries"><span class="">Simple Queries</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-liftidocssearchingfield-information-li">
  <a href="/lifti/docs/searching/field-information/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocssearchingfield-information"><span class="">Field Information</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-liftidocssearchingmanually-constructing-queries-li">
  <a href="/lifti/docs/searching/manually-constructing-queries/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocssearchingmanually-constructing-queries"><span class="">Manually Constructing Query Objects</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-liftidocssearchingusing-the-index-navigator-li">
  <a href="/lifti/docs/searching/using-the-index-navigator/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocssearchingusing-the-index-navigator"><span class="">IndexNavigator</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-liftidocssearchingunderstanding-query-plan-li">
  <a href="/lifti/docs/searching/understanding-query-plan/" title="Understanding Query Execution Plans" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocssearchingunderstanding-query-plan"><span class="">Understanding query plans</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-liftidocssearchingsearch-results-li">
  <a href="/lifti/docs/searching/search-results/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-liftidocssearchingsearch-results"><span class="">Search Results</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocssearchingsearch-resultsextracting-matched-phrases-li">
  <a href="/lifti/docs/searching/search-results/extracting-matched-phrases/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocssearchingsearch-resultsextracting-matched-phrases"><span class="">Extracting matched phrases</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocssearchingsearch-resultsscoring-li">
  <a href="/lifti/docs/searching/search-results/scoring/" title="Search result scoring" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocssearchingsearch-resultsscoring"><span class="">Scoring</span></a>
</li>
  </ul>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-liftidocsserialization-li">
  <a href="/lifti/docs/serialization/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-liftidocsserialization"><span class="">Serialization</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocsserializationkey-serialization-li">
  <a href="/lifti/docs/serialization/key-serialization/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsserializationkey-serialization"><span class="">Key Serialization</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocsserializationautomatic-serialization-li">
  <a href="/lifti/docs/serialization/automatic-serialization/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsserializationautomatic-serialization"><span class="">Automatic Serialization</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-liftidocscustom-stemmers-li">
  <a href="/lifti/docs/custom-stemmers/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-liftidocscustom-stemmers"><span class="">Custom stemmers</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-liftidocsreference-li">
  <a href="/lifti/docs/reference/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-liftidocsreference"><span class="">Reference</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-liftidocsreferenceserialization-format-li">
  <a href="/lifti/docs/reference/serialization-format/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-liftidocsreferenceserialization-format"><span class="">Serialization File Format</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocsreferenceserialization-formatpreversion6-li">
  <a href="/lifti/docs/reference/serialization-format/preversion6/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsreferenceserialization-formatpreversion6"><span class="">V5 Serialization File Format</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocsreferenceserialization-formatpreversion5-li">
  <a href="/lifti/docs/reference/serialization-format/preversion5/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsreferenceserialization-formatpreversion5"><span class="">V2-4 Serialization File Format</span></a>
</li>
  </ul>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-liftidocsfaq-li">
  <a href="/lifti/docs/faq/" title="Frequently Asked Questions" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-liftidocsfaq"><span class="">FAQ</span></a>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            
<div class="td-page-meta ms-2 pb-1 pt-2 mb-0">
<a href="https://github.com/mikegoatly/lifti/tree/main/docs/content/en/docs/Searching/lifti-query-syntax.md" class="td-page-meta--view" target="_blank" rel="noopener"><i class="fa-solid fa-file-lines fa-fw"></i> View page source</a>
  <a href="https://github.com/mikegoatly/lifti/edit/main/docs/content/en/docs/Searching/lifti-query-syntax.md" class="td-page-meta--edit" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
  <a href="https://github.com/mikegoatly/lifti/new/main/docs/content/en/docs/Searching?filename=change-me.md&amp;value=---%0D%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0D%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0D%0Aweight%3A&#43;100%0D%0Adescription%3A&#43;%3E-%0D%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0D%0A---%0D%0A%0D%0A%23%23&#43;Heading%0D%0A%0D%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0D%0A%0D%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0D%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0D%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0D%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0D%0A" class="td-page-meta--child" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> Create child page</a>
  <a href="https://github.com/mikegoatly/lifti/issues/new?title=The%20LIFTI%20Query%20Syntax" class="td-page-meta--issue" target="_blank" rel="noopener"><i class="fa-solid fa-list-check fa-fw"></i> Create documentation issue</a>
  
</div>

            <div class="td-toc">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#quick-examples">Quick examples</a></li>
    <li><a href="#query-operators">Query Operators</a>
      <ul>
        <li><a href="#exact-word-matches">Exact word matches</a></li>
        <li><a href="#fuzzy-match-">Fuzzy match (<code>?</code>)</a></li>
        <li><a href="#wildcard-matching">Wildcard matching</a></li>
        <li><a href="#and-">And (<code>&amp;</code>)</a></li>
        <li><a href="#or-">Or (<code>|</code>)</a></li>
        <li><a href="#bracketing-expressions">Bracketing expressions</a></li>
        <li><a href="#field-restrictions-field">Field restrictions (<code>field=...</code>)</a></li>
        <li><a href="#sequential-text-">Sequential text (<code>&quot;...&quot;</code>)</a></li>
        <li><a href="#near--and-n">Near (<code>~</code> and <code>~n</code>)</a></li>
        <li><a href="#near-following--and-n">Near following (<code>~&gt;</code> and <code>~n&gt;</code>)</a></li>
        <li><a href="#following-">Following (<code>&gt;</code>)</a></li>
      </ul>
    </li>
    <li><a href="#score-boosting">Score boosting</a></li>
    <li><a href="#escaping-search-text">Escaping search text</a></li>
  </ul>
</nav>
      </div>
    
            

          </aside>
          <main class="col-12 col-md-9 col-xl-8 ps-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="td-breadcrumbs">
  <ol class="breadcrumb">
  <li class="breadcrumb-item">
    <a href="https://mikegoatly.github.io/lifti/docs/">Documentation</a></li>
  <li class="breadcrumb-item">
    <a href="https://mikegoatly.github.io/lifti/docs/searching/">Searching</a></li>
  <li class="breadcrumb-item active" aria-current="page">
    The LIFTI Query Syntax</li>
  </ol>
</nav>
            
<div class="td-content">
	<h1>The LIFTI Query Syntax</h1>
	<div class="lead">The default query parser for an index makes use of a powerful query syntax.</div>
	<header class="article-meta">
		
</header>
	<blockquote>
<p>Don&rsquo;t want to use advanced queries? You&rsquo;ll want to configure the <a href="../simple-queries">simple query parser</a>.</p>
</blockquote>
<h2 id="quick-examples">Quick examples</h2>
<table>
<thead>
<tr>
<th>Example</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>West</td>
<td><strong>West</strong> must appear in the text <a href="#exact-word-matches">exactly</a>.</td>
</tr>
<tr>
<td>West|Wing^2</td>
<td><strong>West</strong> or <strong>Wing</strong> must appear in the text <a href="#exact-word-matches">exactly</a>, where matches on <strong>Wing</strong> will have a <a href="#score-boosting">score boost</a> of 2.</td>
</tr>
<tr>
<td>?Wst</td>
<td>Words that <a href="#fuzzy-match-">fuzzy match</a> with <strong>wst</strong> must appear in the text.</td>
</tr>
<tr>
<td>?3,2?Wst</td>
<td>Words that <a href="#fuzzy-match-">fuzzy match</a> with <strong>wst</strong> must appear in the text, with a specified max edit distance and max sequential edits.</td>
</tr>
<tr>
<td>title=West</td>
<td>A <a href="#field-restrictions-field">field restricted</a> search. <strong>West</strong> must appear in the <em><strong>title</strong></em> field of an indexed object.</td>
</tr>
<tr>
<td>doc*</td>
<td>Words that starts with <strong>doc</strong>ument must appear in the text. <a href="#wildcard-matching">See wildcard matching</a></td>
</tr>
<tr>
<td>%%ing</td>
<td>Words that starts with any two letters and end with <strong>ing</strong>, e.g. <em>doing</em>. <a href="#wildcard-matching">See wildcard matching</a></td>
</tr>
<tr>
<td>west &amp; wing</td>
<td>The words <strong>west</strong> <a href="#and-">and</a> <strong>wing</strong> must appear in the text.</td>
</tr>
<tr>
<td>west wing</td>
<td>The words <strong>west</strong> <a href="#and-">and</a> <strong>wing</strong> must appear in the text - the default operator is &amp; if none is specified between search words.</td>
</tr>
<tr>
<td>west | wing</td>
<td>The words <strong>west</strong> <a href="#or-">or</a> <strong>wing</strong> must appear in the text.</td>
</tr>
<tr>
<td>west ~ wing</td>
<td><strong>west</strong> and <strong>wing</strong> must appear <a href="#near--and-n">near to each other</a> (within 5 words - the default) in the text.</td>
</tr>
<tr>
<td>west ~3 wing</td>
<td><strong>west</strong> and <strong>wing</strong> must appear <a href="#near--and-n">near to each other</a> (within <strong>3</strong> words) in the text.</td>
</tr>
<tr>
<td>west ~&gt; wing</td>
<td><strong>west</strong> must be <a href="#near-following--and-n">followed by</a> <strong>wing</strong> closely (within 5 words - the default) in the text.</td>
</tr>
<tr>
<td>west ~3&gt; wing</td>
<td><strong>west</strong> must be <a href="#near-following--and-n">followed by</a> <strong>wing</strong> closely (within <strong>3</strong> words) in the text.</td>
</tr>
<tr>
<td>west &gt; wing</td>
<td><strong>west</strong> must <a href="#following-">precede</a> <strong>wing</strong> anywhere in the text</td>
</tr>
<tr>
<td>&ldquo;the west wing&rdquo;</td>
<td>The words <strong>the west wing</strong> must appear <a href="#sequential-text-">in sequence</a> in the indexed text.</td>
</tr>
<tr>
<td>&ldquo;notr* dam*&rdquo;</td>
<td>You can use <a href="#wildcard-matching">wildcards</a> and <a href="#fuzzy-match-">fuzzy matching</a> in a <a href="#sequential-text-">sequential text</a> query. In this case, a word starting with <strong>notr</strong> must be immediately followed by a word starting with <strong>dam</strong>, e.g. <strong>Notre Dame</strong>.</td>
</tr>
</tbody>
</table>
<p>Search terms can be combined and placed in parenthesis:</p>
<table>
<thead>
<tr>
<th>Example</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>&ldquo;west wing&rdquo; ~ &ldquo;oval office&rdquo;</td>
<td><strong>West wing</strong> must appear near <strong>Oval Office</strong></td>
</tr>
<tr>
<td>(west | east) &amp; wing</td>
<td><strong>west wing</strong> or <strong>east wing</strong> must appear in the document.</td>
</tr>
</tbody>
</table>
<h2 id="query-operators">Query Operators</h2>
<h3 id="exact-word-matches">Exact word matches</h3>
<p>Any text in a query will be tokenized using to the provided tokenizer,
enforcing the same word stemming, case/accent sensitivity rules as used in the index.</p>
<hr>
<h3 id="fuzzy-match-">Fuzzy match (<code>?</code>)</h3>
<p>By prefixing a search term with <code>?</code> a fuzzy matching algorithm will be used to match the search term against the index. You can optionally specify the maximum edit distance and maximum number of sequential edits
for a specific search term using the formats:</p>
<p><code>?{max edits},{max sequential edits}?term</code></p>
<p>For example <code>?2,1?food</code> will search for &ldquo;food&rdquo; with a maximum number of edits of 2, and maximum sequential edits of 1.</p>
<p>You can omit one or the other parameter if required, so <code>?2?food</code> will only set the maximum number of edits to 2, leaving the maximum sequential edits at the default value. If you want to only include
the maximum number of sequential edits, then you must include a leading comma in the parameter set, e.g. <code>?,2?food</code></p>
<p>See <a href="../fuzzy-matching">Fuzzy Matching</a> for more details.</p>
<h4 id="defaulting-search-terms-to-fuzzy-matching">Defaulting search terms to fuzzy matching</h4>
<p>By default LIFTI will treat a search term as an <a href="#exact-word-matches">exact word match</a>, however <a href="../index-construction/withqueryparser/#configuring-the-default-lifti-queryparser">you can configure the index</a> so that any search term (apart from those containing wildcards)
will be treated as a fuzzy match.</p>
<hr>
<h3 id="wildcard-matching">Wildcard matching</h3>
<p>Any search term containing <code>*</code> or <code>%</code> will be considered a wildcard match, where:</p>
<ul>
<li><code>*</code> matches zero or more characters</li>
<li><code>%</code> matches any single character. You can use multiple <code>%</code> in a row to indicate an exact number of characters that need to be matched.</li>
</ul>
<p>Examples:</p>
<ul>
<li><code>foo*</code> would match occurrences of <code>food</code> and <code>football</code></li>
<li><code>*ing</code> would match <code>drifting</code> and <code>flying</code></li>
<li><code>%%%ld</code> would match <code>could</code> and <code>mould</code> (but <strong>not</strong> <code>should</code>, because it has 4 letters before the <code>ld</code>)</li>
<li><code>%%p*</code> matches words starting with any two characters followed by <code>g</code>, then any zero or more characters, e.g. <code>map</code>, <code>caps</code>, <code>duped</code></li>
</ul>
<hr>
<h3 id="and-">And (<code>&amp;</code>)</h3>
<p>The and operator (<code>&amp;</code>) Performs an intersection of two intermediate query results, combining word positions for successful matches.</p>
<p><code>Food &amp; Burger</code> searches for documents containing both <code>&quot;food&quot;</code> and <code>&quot;burger&quot;</code> at any position, and in any field.</p>
<p>(Alternatively <code>Food Burger</code> will have the same effect as the default operator between query parts is an <code>&amp;</code>.)</p>
<hr>
<h3 id="or-">Or (<code>|</code>)</h3>
<p>Performs a union of two intermediate query results. Where a document appears in both sets, word positions are combined into one list.</p>
<p>Restricts results to same field by default: <strong>false</strong></p>
<hr>
<h3 id="bracketing-expressions">Bracketing expressions</h3>
<p>Brackets can be used to group expressions together.</p>
<p>e.g. <code>(food &amp; cake) | (cheese &amp; biscuit)</code></p>
<hr>
<h3 id="field-restrictions-field">Field restrictions (<code>field=...</code>)</h3>
<p>These allow for restricting searches within a given field.</p>
<p><code>title=analysis | body=(chocolate &amp; cake)</code> Searches for documents with <code>&quot;analysis&quot;</code> in the title field <em>or both</em> <code>&quot;chocolate&quot;</code> and <code>&quot;cake&quot;</code> in the body field.</p>
<p><code>title=analysis food</code> Searches for documents with <code>&quot;analysis&quot;</code> in the title field <em>and</em> <code>&quot;food&quot;</code> in <em>any</em> field.</p>
<p>If your field name contains spaces or other special characters, you can escape it using square brackets <code>[</code> and <code>]</code>, e.g. <code>[my field]=chocolate</code>.</p>
<hr>
<h3 id="sequential-text-">Sequential text (<code>&quot;...&quot;</code>)</h3>
<p>Placing quotes around a search phrase will enforce that the words all appear
immediately next to each other in the source text.</p>
<p><code>&quot;cheese burger&quot;</code> will only match documents that have text containing <code>&quot;cheese&quot;</code> followed immediately by <code>&quot;burger&quot;</code>.</p>
<hr>
<h3 id="near--and-n">Near (<code>~</code> and <code>~n</code>)</h3>
<p>The near operator performs a positional intersection of two results based on the position of the word in a field.</p>
<p>The <code>~</code> operator requires that words must be within 5 words of one another. This can value can be controlled by specifying a number, e.g. <code>~4</code> to restrict to only returning results within 4 words of one another.</p>
<p><code>cheese ~ cake</code> will return documents containing the words <code>&quot;cheese&quot;</code> and <code>&quot;cake&quot;</code> in either order, up to 5 words apart, e.g. <code>&quot;the cake was made with cheese&quot;</code> and <code>&quot;I like cheese and cake&quot;</code> would both match, but <code>&quot;cake is never to be considered a substitute for cheese&quot;</code> would not.</p>
<hr>
<h3 id="near-following--and-n">Near following (<code>~&gt;</code> and <code>~n&gt;</code>)</h3>
<p>Same as Near (<code>~</code>) except that order is important in the positional intersection.</p>
<p><code>cheese ~&gt; cake</code> will match <code>&quot;cheese and cake&quot;</code> but not <code>&quot;cake and cheese&quot;</code></p>
<hr>
<h3 id="following-">Following (<code>&gt;</code>)</h3>
<p>Same as Near Following (<code>~&gt;</code>) except there are no constraints on how far apart the words can be.</p>
<p><code>cheese &gt; cake</code> will match any text where <code>&quot;cheese&quot;</code> precedes <code>&quot;cake&quot;</code> in a given field.</p>
<h2 id="score-boosting">Score boosting</h2>
<p>Wildcard, fuzzy match and exact match search terms can have their resulting scores boosted by adding <code>^n</code> after them. For example, <code>wild^2</code> will boost matches of &ldquo;wild&rdquo; by 2x.</p>
<h2 id="escaping-search-text">Escaping search text</h2>
<p>Use a backslash <code>\</code> when you want to explicitly search for a character that clashes with the query syntax. For example, <code>A\=B</code> will search for a single token containing
exactly &ldquo;A=B&rdquo;, rather than attempting to perform a field restricted search.</p>

	<div class="text-muted mt-5 pt-3 border-top">
  Last modified January 16, 2024: <a href="https://github.com/mikegoatly/lifti/commit/125ae879f9e8153516e5e815ca9caff19dce72d6">V6.0.0 (#107) (125ae87)</a>
</div>

</div>


          </main>
        </div>
      </div>
      <footer class="td-footer row d-print-none">
  <div class="container-fluid">
    <div class="row mx-md-2">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Twitter" aria-label="Twitter">
    <a target="_blank" rel="noopener" href="https://twitter.com/mikegoatly" aria-label="Twitter">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Stack Overflow" aria-label="Stack Overflow">
    <a target="_blank" rel="noopener" href="https://stackoverflow.com/tags/lifti" aria-label="Stack Overflow">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-end text-xs-center order-sm-3">
        
        
        
<ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="GitHub" aria-label="GitHub">
    <a target="_blank" rel="noopener" href="https://github.com/mikegoatly/lifti" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="td-footer__copyright-etc col-12 col-sm-4 text-center py-2 order-sm-2">
        <span>&copy; 2024 Mike Goatly All Rights Reserved</span>
        
        <p class="td-footer__about mt-2"><a href="/lifti/about/">About LIFTI</a></p>
      </div>
    </div>
  </div>
</footer>
    </div>
    
  <script src="/lifti/js/main.min.71ce084bcf13abbf1fcd942047313f25a70594ce26ec4a6a93ab9a359a8cbf66.js" integrity="sha256-cc4IS88Tq78fzZQgRzE/JacFlM4m7Epqk6uaNZqMv2Y=" crossorigin="anonymous"></script>
<script defer src="/lifti/js/click-to-copy.min.f724d3de49218995223b7316aa2e53e2b34bf42026bf399ebb21bb02212402d1.js" integrity="sha256-9yTT3kkhiZUiO3MWqi5T4rNL9CAmvzmeuyG7AiEkAtE=" crossorigin="anonymous"></script>
<script src='/lifti/js/tabpane-persist.js'></script>

  </body>
</html>