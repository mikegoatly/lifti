<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.121.2">
<meta name="robots" content="index, follow">


<link rel="shortcut icon" href="/lifti/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/lifti/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/lifti/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/lifti/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/lifti/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/lifti/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/lifti/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/lifti/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/lifti/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/lifti/favicons/android-192x192.png" sizes="192x192">

<title>Object tokenization | LIFTI</title>
<meta name="description" content="Configure the index to accept a strongly typed object when indexing content.
">
<meta property="og:title" content="Object tokenization" />
<meta property="og:description" content="Configure the index to accept a strongly typed object when indexing content.
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mikegoatly.github.io/lifti/docs/index-construction/withobjecttokenization/" /><meta property="article:section" content="docs" />

<meta property="article:modified_time" content="2024-01-16T22:43:44+00:00" />

<meta itemprop="name" content="Object tokenization">
<meta itemprop="description" content="Configure the index to accept a strongly typed object when indexing content.
">
<meta itemprop="dateModified" content="2024-01-16T22:43:44+00:00" />
<meta itemprop="wordCount" content="902">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Object tokenization"/>
<meta name="twitter:description" content="Configure the index to accept a strongly typed object when indexing content.
"/>




<link rel="preload" href="/lifti/scss/main.min.8b5cb6bf325858503123a884cabb18b474576e49a8f8b45c16440e12cb52ad15.css" as="style">
<link href="/lifti/scss/main.min.8b5cb6bf325858503123a884cabb18b474576e49a8f8b45c16440e12cb52ad15.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.6.3.min.js"
  integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ=="
  crossorigin="anonymous"></script>
<script defer
  src="https://unpkg.com/lunr@2.3.9/lunr.min.js"
  integrity="sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli"
  crossorigin="anonymous"></script>

  </head>
  <body class="td-page">
    <header>
      <nav class="td-navbar navbar-dark js-navbar-scroll">
<div class="container-fluid flex-column flex-md-row">
  <a class="navbar-brand" href="/lifti/"><span class="navbar-brand__logo navbar-logo"><svg viewBox="0 0 180 180" xmlns="http://www.w3.org/2000/svg"><defs/><path d="M38.225 8.178h96.774l31.117 31.117v131.5H38.225V88.826h87.587V71.35h24.422V59.722H125.812L126.216 41.408H38.225V8.178zM54.049 116.715h96.185V105.087H54.049v11.628zm0 37.076h96.185V142.163H54.049v11.628z" style="stroke-width:0;stroke:#020f0e;fill:#14a89b"/><rect x="11.244" y="51.461" width="106.346" height="28.227" style="stroke-width:5px;fill:#1adbca;stroke:#0e756c" rx="11.718" ry="11.718"/></svg></span><span class="navbar-brand__name">LIFTI</span></a>
  <div class="td-navbar-nav-scroll ms-md-auto" id="main_navbar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="/lifti/about/"><span>About</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link active" href="/lifti/docs/"><span>Documentation</span></a>
      </li>
      </ul>
  </div>
  <div class="d-none d-lg-block">
    <div class="td-search td-search--offline">
  <div class="td-search__icon"></div>
  <input
    type="search"
    class="td-search__input form-control"
    placeholder="Search this site…"
    aria-label="Search this site…"
    autocomplete="off"
    
    data-offline-search-index-json-src="/lifti/offline-search-index.3edff441e8da4ea1c8495044f31febb6.json"
    data-offline-search-base-href="/"
    data-offline-search-max-results="10"
  >
</div>
  </div>
</div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            <div id="td-sidebar-menu" class="td-sidebar__inner">
  <form class="td-sidebar__search d-flex align-items-center">
    <div class="td-search td-search--offline">
  <div class="td-search__icon"></div>
  <input
    type="search"
    class="td-search__input form-control"
    placeholder="Search this site…"
    aria-label="Search this site…"
    autocomplete="off"
    
    data-offline-search-index-json-src="/lifti/offline-search-index.3edff441e8da4ea1c8495044f31febb6.json"
    data-offline-search-base-href="/"
    data-offline-search-max-results="10"
  >
</div>
    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type="button" data-bs-toggle="collapse" data-bs-target="#td-section-nav" aria-controls="td-section-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  <nav class="td-sidebar-nav collapse" id="td-section-nav">
    <ul class="td-sidebar-nav__section pe-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-liftidocs-li">
  <a href="/lifti/docs/" title="LIFTI" class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-liftidocs"><span class="">Documentation</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-liftidocsgetting-started-li">
  <a href="/lifti/docs/getting-started/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-liftidocsgetting-started"><span class="">Getting Started</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocsgetting-startedindexing-objects-li">
  <a href="/lifti/docs/getting-started/indexing-objects/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsgetting-startedindexing-objects"><span class="">Indexing Objects</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-liftidocsindex-construction-li">
  <a href="/lifti/docs/index-construction/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-liftidocsindex-construction"><span class="">Index Construction</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-liftidocsindex-constructionwithdefaulttokenization-li">
  <a href="/lifti/docs/index-construction/withdefaulttokenization/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsindex-constructionwithdefaulttokenization"><span class="">Default tokenization</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-liftidocsindex-constructionwithobjecttokenization-li">
  <a href="/lifti/docs/index-construction/withobjecttokenization/" class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id="m-liftidocsindex-constructionwithobjecttokenization"><span class="td-sidebar-nav-active-item">Object tokenization</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-liftidocsindex-constructionwithduplicatekeybehavior-li">
  <a href="/lifti/docs/index-construction/withduplicatekeybehavior/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsindex-constructionwithduplicatekeybehavior"><span class="">Managing duplicate keys</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-liftidocsindex-constructionwithqueryparser-li">
  <a href="/lifti/docs/index-construction/withqueryparser/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsindex-constructionwithqueryparser"><span class="">Query parser configuration</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-liftidocsindex-constructionwithdefaultthesaurus-li">
  <a href="/lifti/docs/index-construction/withdefaultthesaurus/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsindex-constructionwithdefaultthesaurus"><span class="">Thesaurus synonyms</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-liftidocsindex-constructionwithtextextraction-li">
  <a href="/lifti/docs/index-construction/withtextextraction/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsindex-constructionwithtextextraction"><span class="">Document text extraction</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-liftidocsindex-constructionwithsimplequeryparser-li">
  <a href="/lifti/docs/index-construction/withsimplequeryparser/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsindex-constructionwithsimplequeryparser"><span class="">Using the simple query parser</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-liftidocsindex-constructionwithindexmodificationaction-li">
  <a href="/lifti/docs/index-construction/withindexmodificationaction/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsindex-constructionwithindexmodificationaction"><span class="">Adding index modification actions</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-liftidocsindexing-mutations-li">
  <a href="/lifti/docs/indexing-mutations/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-liftidocsindexing-mutations"><span class="">Indexing Data</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocsindexing-mutationsbatch-mutations-li">
  <a href="/lifti/docs/indexing-mutations/batch-mutations/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsindexing-mutationsbatch-mutations"><span class="">Batch Mutations</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocsindexing-mutationsremoving-data-li">
  <a href="/lifti/docs/indexing-mutations/removing-data/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsindexing-mutationsremoving-data"><span class="">Removing Data</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-liftidocssearching-li">
  <a href="/lifti/docs/searching/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-liftidocssearching"><span class="">Searching</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocssearchinglifti-query-syntax-li">
  <a href="/lifti/docs/searching/lifti-query-syntax/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocssearchinglifti-query-syntax"><span class="">The LIFTI Query Syntax</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocssearchingquery-execution-li">
  <a href="/lifti/docs/searching/query-execution/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocssearchingquery-execution"><span class="">Query execution</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocssearchingfuzzy-matching-li">
  <a href="/lifti/docs/searching/fuzzy-matching/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocssearchingfuzzy-matching"><span class="">Fuzzy Matching</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocssearchingsimple-queries-li">
  <a href="/lifti/docs/searching/simple-queries/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocssearchingsimple-queries"><span class="">Simple Queries</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocssearchingfield-information-li">
  <a href="/lifti/docs/searching/field-information/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocssearchingfield-information"><span class="">Field Information</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocssearchingmanually-constructing-queries-li">
  <a href="/lifti/docs/searching/manually-constructing-queries/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocssearchingmanually-constructing-queries"><span class="">Manually Constructing Query Objects</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocssearchingusing-the-index-navigator-li">
  <a href="/lifti/docs/searching/using-the-index-navigator/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocssearchingusing-the-index-navigator"><span class="">IndexNavigator</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-liftidocssearchingsearch-results-li">
  <a href="/lifti/docs/searching/search-results/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-liftidocssearchingsearch-results"><span class="">Search Results</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocssearchingsearch-resultsextracting-matched-phrases-li">
  <a href="/lifti/docs/searching/search-results/extracting-matched-phrases/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocssearchingsearch-resultsextracting-matched-phrases"><span class="">Extracting matched phrases</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocssearchingsearch-resultsscoring-li">
  <a href="/lifti/docs/searching/search-results/scoring/" title="Search result scoring" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocssearchingsearch-resultsscoring"><span class="">Scoring</span></a>
</li>
  </ul>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-liftidocsserialization-li">
  <a href="/lifti/docs/serialization/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-liftidocsserialization"><span class="">Serialization</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocsserializationkey-serialization-li">
  <a href="/lifti/docs/serialization/key-serialization/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsserializationkey-serialization"><span class="">Key Serialization</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocsserializationautomatic-serialization-li">
  <a href="/lifti/docs/serialization/automatic-serialization/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsserializationautomatic-serialization"><span class="">Automatic Serialization</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-liftidocscustom-stemmers-li">
  <a href="/lifti/docs/custom-stemmers/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-liftidocscustom-stemmers"><span class="">Custom stemmers</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-liftidocsreference-li">
  <a href="/lifti/docs/reference/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-liftidocsreference"><span class="">Reference</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-liftidocsreferenceserialization-format-li">
  <a href="/lifti/docs/reference/serialization-format/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-liftidocsreferenceserialization-format"><span class="">Serialization File Format</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocsreferenceserialization-formatpreversion6-li">
  <a href="/lifti/docs/reference/serialization-format/preversion6/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsreferenceserialization-formatpreversion6"><span class="">V5 Serialization File Format</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-liftidocsreferenceserialization-formatpreversion5-li">
  <a href="/lifti/docs/reference/serialization-format/preversion5/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-liftidocsreferenceserialization-formatpreversion5"><span class="">V2-4 Serialization File Format</span></a>
</li>
  </ul>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-liftidocsfaq-li">
  <a href="/lifti/docs/faq/" title="Frequently Asked Questions" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-liftidocsfaq"><span class="">FAQ</span></a>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            
<div class="td-page-meta ms-2 pb-1 pt-2 mb-0">
<a href="https://github.com/mikegoatly/lifti/tree/main/docs/content/en/docs/Index%20construction/WithObjectTokenization.md" class="td-page-meta--view" target="_blank" rel="noopener"><i class="fa-solid fa-file-lines fa-fw"></i> View page source</a>
  <a href="https://github.com/mikegoatly/lifti/edit/main/docs/content/en/docs/Index%20construction/WithObjectTokenization.md" class="td-page-meta--edit" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
  <a href="https://github.com/mikegoatly/lifti/new/main/docs/content/en/docs/Index%20construction?filename=change-me.md&amp;value=---%0D%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0D%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0D%0Aweight%3A&#43;100%0D%0Adescription%3A&#43;%3E-%0D%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0D%0A---%0D%0A%0D%0A%23%23&#43;Heading%0D%0A%0D%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0D%0A%0D%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0D%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0D%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0D%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0D%0A" class="td-page-meta--child" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> Create child page</a>
  <a href="https://github.com/mikegoatly/lifti/issues/new?title=Object%20tokenization" class="td-page-meta--issue" target="_blank" rel="noopener"><i class="fa-solid fa-list-check fa-fw"></i> Create documentation issue</a>
  
</div>

            <div class="td-toc">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#example-usage">Example usage</a></li>
    <li><a href="#withkey"><code>WithKey</code></a></li>
    <li><a href="#withfield"><code>WithField</code></a>
      <ul>
        <li><a href="#name"><code>name</code></a></li>
        <li><a href="#fieldtextreader"><code>fieldTextReader</code></a></li>
        <li><a href="#tokenizationoptions"><code>tokenizationOptions</code></a></li>
        <li><a href="#textextractor"><code>textExtractor</code></a></li>
        <li><a href="#thesaurusoptions"><code>thesaurusOptions</code></a></li>
        <li><a href="#scoreboost"><code>scoreBoost</code></a></li>
      </ul>
    </li>
    <li><a href="#withdynamicfields"><code>WithDynamicFields</code></a>
      <ul>
        <li><a href="#dynamicfieldreadername"><code>dynamicFieldReaderName</code></a></li>
        <li><a href="#dynamicfieldreader"><code>dynamicFieldReader</code></a></li>
        <li><a href="#fieldnameprefix"><code>fieldNamePrefix</code></a></li>
        <li><a href="#other-withdynamicfields-parameters">Other <code>WithDynamicFields</code> parameters</a></li>
      </ul>
    </li>
    <li><a href="#withscoreboosting"><code>WithScoreBoosting</code></a>
      <ul>
        <li><a href="#freshness"><code>Freshness</code></a></li>
        <li><a href="#magnitude"><code>Magnitude</code></a></li>
      </ul>
    </li>
    <li><a href="#indexing-multiple-object-types">Indexing multiple object types</a>
      <ul>
        <li><a href="#1-extracted-keys-need-to-be-unique-across-all-object-types">1. Extracted keys need to be unique across all object types.</a></li>
        <li><a href="#2-field-names-must-be-unique-across-all-object-types">2. Field names must be unique across all object types</a></li>
      </ul>
    </li>
  </ul>
</nav>
      </div>
    
            

          </aside>
          <main class="col-12 col-md-9 col-xl-8 ps-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="td-breadcrumbs">
  <ol class="breadcrumb">
  <li class="breadcrumb-item">
    <a href="https://mikegoatly.github.io/lifti/docs/">Documentation</a></li>
  <li class="breadcrumb-item">
    <a href="https://mikegoatly.github.io/lifti/docs/index-construction/">Index Construction</a></li>
  <li class="breadcrumb-item active" aria-current="page">
    Object tokenization</li>
  </ol>
</nav>
            
<div class="td-content">
	<h1>Object tokenization</h1>
	<div class="lead">Configure the index to accept a strongly typed object when indexing content.</div>
	<header class="article-meta">
		
</header>
	<h2 id="example-usage">Example usage</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">Customer</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">Id</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">get</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#204a87;font-weight:bold">set</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">string</span> <span style="color:#000">Name</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">get</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#204a87;font-weight:bold">set</span><span style="color:#000;font-weight:bold">;}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">string</span> <span style="color:#000">ProfileHtml</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">get</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#204a87;font-weight:bold">set</span><span style="color:#000;font-weight:bold">;}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">var</span> <span style="color:#000">index</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">FullTextIndexBuilder</span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#204a87;font-weight:bold">int</span><span style="color:#000;font-weight:bold">&gt;()</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">.</span><span style="color:#000">WithObjectTokenization</span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#000">Customer</span><span style="color:#000;font-weight:bold">&gt;(</span><span style="color:#000">o</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000">o</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">.</span><span style="color:#000">WithKey</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000">c</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Id</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">.</span><span style="color:#000">WithField</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Name&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">c</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000">c</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Name</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">scoreBoost</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">1.5D</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">.</span><span style="color:#000">WithField</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Profile&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">c</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000">c</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">ProfileHtml</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">textExtractor</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">XmlTextExtractor</span><span style="color:#000;font-weight:bold">())</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">.</span><span style="color:#000">WithDynamicFields</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Tags&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">c</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000">c</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">TagDictionary</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;Tag_&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">.</span><span style="color:#000">WithDynamicFields</span><span style="color:#000;font-weight:bold">(</span>
</span></span><span style="display:flex;"><span>            <span style="color:#4e9a06">&#34;Questions&#34;</span><span style="color:#000;font-weight:bold">,</span> 
</span></span><span style="display:flex;"><span>            <span style="color:#000">c</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000">c</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Questions</span><span style="color:#000;font-weight:bold">,</span> 
</span></span><span style="display:flex;"><span>            <span style="color:#000">q</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000">q</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">QuestionName</span><span style="color:#000;font-weight:bold">,</span> 
</span></span><span style="display:flex;"><span>            <span style="color:#000">q</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000">q</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">QuestionResponse</span><span style="color:#000;font-weight:bold">,</span> 
</span></span><span style="display:flex;"><span>            <span style="color:#4e9a06">&#34;Question_&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">scoreBoost</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">1.8D</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">.</span><span style="color:#000">WithScoreBoosting</span><span style="color:#000;font-weight:bold">(</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">boost</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000">boost</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">.</span><span style="color:#000">Freshness</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000">c</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">UpdatedDate</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2D</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">.</span><span style="color:#000">Magnitude</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000">c</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Rating</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2D</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">.</span><span style="color:#000">Build</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">await</span> <span style="color:#000">index</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">AddAsync</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Customer</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000;font-weight:bold">...</span> <span style="color:#000;font-weight:bold">});</span>
</span></span></code></pre></div><h2 id="withkey"><code>WithKey</code></h2>
<p>Each object configured against the index must have a key of the same type as the index&rsquo;s key. <code>WithKey</code> defines how this key is read from the object.</p>
<h2 id="withfield"><code>WithField</code></h2>
<p>An object can be configured with one <em>static</em> fields that are known at compile time. The <code>WithField</code> method overloads allow for static fields to be defined.</p>
<h3 id="name"><code>name</code></h3>
<p>The unique name of the field in the index. This has two main uses subsequently:</p>
<ol>
<li>In search results you are provided with a breakdown of where matches were found - the name of the field is included in this information.</li>
<li>When querying, you can restrict a part of the search to a specific field, e.g. <code>Profile=food</code> will only match the word food in the <code>Profile</code> field, and no others. See <a href="../Searching/">Searching</a> for more information.</li>
</ol>
<h3 id="fieldtextreader"><code>fieldTextReader</code></h3>
<p>A function capable of extracting the raw text from the object. Supported function definitions:</p>
<ul>
<li><code>Func&lt;T, string&gt;</code></li>
<li><code>Func&lt;T, IEnumerable&lt;string&gt;&gt;</code></li>
</ul>
<p>And their async equivalents:</p>
<ul>
<li><code>Func&lt;T, Task&lt;string&gt;&gt;</code></li>
<li><code>Func&lt;T, Task&lt;IEnumerable&lt;string&gt;&gt;&gt;</code></li>
</ul>
<h3 id="tokenizationoptions"><code>tokenizationOptions</code></h3>
<p>Equivalent to <a href="./WithDefaultTokenization">WithDefaultTokenization</a> but for use exclusively with this field. Left null, the default tokenizer for the index will be used.</p>
<h3 id="textextractor"><code>textExtractor</code></h3>
<p>Equivalent to <a href="./WithTextExtraction">WithTextExtraction</a> but for use exclusively use with this field. Left null, the default text extractor for the index will be used.</p>
<h3 id="thesaurusoptions"><code>thesaurusOptions</code></h3>
<p>Equivalent to <a href="./WithDefaultThesaurus">WithDefaultThesaurus</a> but for use exclusively with this field. Left null, the default thesaurus builder for the index will be used.</p>
<h3 id="scoreboost"><code>scoreBoost</code></h3>
<p>The multiplier to apply to the score of this field when ranking results. The default value of 1 is equivalent to no boosting.</p>
<h2 id="withdynamicfields"><code>WithDynamicFields</code></h2>
<p>In addition to the static fields configured using <code>WithField</code>, it is possible to configure dynamic fields that are not known at compile time. The <code>WithDynamicFields</code>
overloads allow for dynamic field readers to be defined, each of which will be invoked to retrieve the field names for the object being indexed.</p>
<blockquote>
<p><strong>Important:</strong> LIFTI only supports a maximum of 255 unique field names per index, whether they are dynamic or defined statically using <code>WithField</code>.
Because dynamic fields are not known at compile time, it is possible to exceed this limit if you are not careful. If you do exceed this limit, an exception will be thrown
when you try to index an object.</p>
</blockquote>
<h3 id="dynamicfieldreadername"><code>dynamicFieldReaderName</code></h3>
<p>The unique name of the dynamic field reader. Dynamic fields are registered in the index against this name so that when the index is deserialized, the dynamic fields
can be rehydrated against the correct configuration.</p>
<h3 id="dynamicfieldreader"><code>dynamicFieldReader</code></h3>
<p>A function capable of extracting the dynamic field information from the object type <code>T</code>.</p>
<p>You can provide a function that returns a dictionary of name/value pairs, where the key becomes the field name
and the value the text being indexed against it:</p>
<ul>
<li><code>Func&lt;T, IDictionary&lt;string, string&gt;?&gt;</code></li>
<li><code>Func&lt;T, IDictionary&lt;string, IEnumerable&lt;string&gt;&gt;&gt;</code></li>
</ul>
<p>Or you can provice a function that returns a collection of <em>child objects</em>:</p>
<ul>
<li><code>Func&lt;T, ICollection&lt;TChild&gt;?&gt;</code></li>
<li><code>Func&lt;T, ICollection&lt;TChild&gt;?&gt;</code></li>
</ul>
<p>These last two overloads also require you provide two more delegates via the <code>getFieldName</code> and <code>getFieldText</code> parameters.
These delegates are used to extract the field name and text from each child object.</p>
<h3 id="fieldnameprefix"><code>fieldNamePrefix</code></h3>
<p>The prefix to use when constructing the field name. This is useful when the dynamic fields can produce the same field name as a static field,
or a dynamic field from another dynamic field reader.</p>
<h3 id="other-withdynamicfields-parameters">Other <code>WithDynamicFields</code> parameters</h3>
<p>The <code>tokenizationOptions</code>, <code>textExtractor</code>, <code>thesaurusOptions</code> and <code>scoreBoost</code> parameters are equivalent to their <code>WithField</code> counterparts.</p>
<h2 id="withscoreboosting"><code>WithScoreBoosting</code></h2>
<p>Configures the score boosting options for the object type. These allow you to promote documents associated to objects based on related data.</p>
<h3 id="freshness"><code>Freshness</code></h3>
<p>Freshness boosting allows you to boost results based on a date associated to the object. For example, assuming all the documents have exactly the same text
and a multiplier of 3 is specified, then the score of the newest document will be 3 times higher than the oldest.</p>
<h3 id="magnitude"><code>Magnitude</code></h3>
<p>Magnitude boosting allows you to boost results based on a numeric value associated to the object. For example, if you used this with a &ldquo;star rating&rdquo; property,
documents with a higher rating will be more likely to appear nearer the top of search results.</p>
<h2 id="indexing-multiple-object-types">Indexing multiple object types</h2>
<p>It is possible to index multiple types against an index, however you need to consider a couple of constraints.</p>
<h3 id="1-extracted-keys-need-to-be-unique-across-all-object-types">1. Extracted keys need to be unique across all object types.</h3>
<p>If you are indexing disparate object types with overlapping ids, you could consider using a composite key type in the index, e.g.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">enum</span> <span style="color:#000">EntryKind</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">Customer</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">Product</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">var</span> <span style="color:#000">index</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">FullTextIndexBuilder</span><span style="color:#000;font-weight:bold">&lt;(</span> <span style="color:#000">EntryKind</span> <span style="color:#000">kind</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">id</span> <span style="color:#000;font-weight:bold">)&gt;()</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">.</span><span style="color:#000">WithObjectTokenization</span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#000">Customer</span><span style="color:#000;font-weight:bold">&gt;(</span><span style="color:#000">o</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000">o</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">.</span><span style="color:#000">WithKey</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">EntryKind</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Customer</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">c</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Id</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">.</span><span style="color:#000">WithField</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;CustomerName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">c</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000">c</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Name</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">.</span><span style="color:#000">WithObjectTokenization</span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#000">Product</span><span style="color:#000;font-weight:bold">&gt;(</span><span style="color:#000">o</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000">o</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">.</span><span style="color:#000">WithKey</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">p</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">EntryKind</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Product</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">p</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Id</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">.</span><span style="color:#000">WithField</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;ProductName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">p</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000">p</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Name</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">.</span><span style="color:#000">Build</span><span style="color:#000;font-weight:bold">();</span>
</span></span></code></pre></div><blockquote>
<p>To serialize an index with a composite key, you will need to use a custom <code>IKeySerializer</code> - see <a href="../Serialization/key-serialization">Key Serialization</a>.</p>
</blockquote>
<h3 id="2-field-names-must-be-unique-across-all-object-types">2. Field names must be unique across all object types</h3>
<p>You will get an error if you try to register the same name twice, even in separate <code>WithObjectTokenization</code> calls.</p>

	<div class="text-muted mt-5 pt-3 border-top">
  Last modified January 16, 2024: <a href="https://github.com/mikegoatly/lifti/commit/125ae879f9e8153516e5e815ca9caff19dce72d6">V6.0.0 (#107) (125ae87)</a>
</div>

</div>


          </main>
        </div>
      </div>
      <footer class="td-footer row d-print-none">
  <div class="container-fluid">
    <div class="row mx-md-2">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Twitter" aria-label="Twitter">
    <a target="_blank" rel="noopener" href="https://twitter.com/mikegoatly" aria-label="Twitter">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Stack Overflow" aria-label="Stack Overflow">
    <a target="_blank" rel="noopener" href="https://stackoverflow.com/tags/lifti" aria-label="Stack Overflow">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-end text-xs-center order-sm-3">
        
        
        
<ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="GitHub" aria-label="GitHub">
    <a target="_blank" rel="noopener" href="https://github.com/mikegoatly/lifti" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="td-footer__copyright-etc col-12 col-sm-4 text-center py-2 order-sm-2">
        <span>&copy; 2024 Mike Goatly All Rights Reserved</span>
        
        <p class="td-footer__about mt-2"><a href="/lifti/about/">About LIFTI</a></p>
      </div>
    </div>
  </div>
</footer>
    </div>
    
  <script src="/lifti/js/main.min.71ce084bcf13abbf1fcd942047313f25a70594ce26ec4a6a93ab9a359a8cbf66.js" integrity="sha256-cc4IS88Tq78fzZQgRzE/JacFlM4m7Epqk6uaNZqMv2Y=" crossorigin="anonymous"></script>
<script defer src="/lifti/js/click-to-copy.min.f724d3de49218995223b7316aa2e53e2b34bf42026bf399ebb21bb02212402d1.js" integrity="sha256-9yTT3kkhiZUiO3MWqi5T4rNL9CAmvzmeuyG7AiEkAtE=" crossorigin="anonymous"></script>
<script src='/lifti/js/tabpane-persist.js'></script>

  </body>
</html>